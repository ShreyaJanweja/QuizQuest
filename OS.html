<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Music Quiz </title>
    <link rel="shortcut icon" href="quiz_logo.jpg" type="image/x-icon">
    <style>
        @import url("https://fonts.googleapis.com/css2?family-poppins:wght:@300;400;500;600;700;800;900&display=swap");

        *{
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Poppins' , sans-serif;
        }

        body{
            color: #fff;
            background: #09001d;
            overflow: hidden;
        } 
        
        .header{
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            padding: 20px 10%;
            background: transparent;
            display: flex;
            align-items: center;
            z-index: 100;
        } 

        .name{
            font-size: 32px;
            margin-left:10px;
            color: #fff;
            text-decoration: none;
            font-size: 700;
            font-family: 'Times New Roman', Times, serif;
            margin-right: 750px;
            filter: drop-shadow(0 0 5px #09001d);
        } 
        .logo{
        margin-left: 3px;
        margin-top: 4px;
        width: 100px;
        height:100px;
        border-radius:25%;
        filter: drop-shadow(0 0 5px #09001d);
        } 

        .main{
            min-height: 100vh;
            background: url(quiz.jpg) no-repeat;
            background-size: cover;
            background-position: center;
            transition: 0.3s ease;
            pointer-events: auto;
        }

        .main.active{
            filter: blur(10px);
            pointer-events: none;
        }

        .container{
            display: flex;
            height: 100vh;
            width: 200%;
         }

        .home{
            position: relative;
            left: -50%;
            width: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
        } 

        .home-content{
            max-width: 600px;
            display: flex;
            align-items: center;
            flex-direction: column;
        } 

        .home-content h1{
            font-size: 78px;
            font-weight: 700;
            text-shadow: 0 0 10px rgba(0,0,0,0.6);
        }

        .home-content p{
            font-size: 16px;
            margin-bottom: 30px;
            text-shadow: 0 0 10px rgba(0,0,0,0.7);
        }

        .home-content .start-btn {
            width: 190px;
            height: 55px;
            background: #c40094;
            border: 2px solid #fff;
            outline: none;
            border-radius: 6px;
            box-shadow: 0 0 10px #c40094;
            font-size: 18px;
            color: #fff;
            letter-spacing: 1px;
            font-weight: 600;
            cursor: pointer;
            transition: 0.5s;
        }

        .home-content .start-btn:hover{
            background: #09001d;
            box-shadow: none;
        } 

        .popup-info{
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%,-50%) scale(.9);
            width: 500px;
            background: #fff;
            border-radius: 6px;
            padding: 10px 25px;
            opacity: 0;
            pointer-events: none;
            transition: 0.3s ease;
        }

        .popup-info.active{
            opacity: 1;
            pointer-events: auto;
            transform: translate(-50%,-50%) scale(1);
        }

        .popup-info h2{
            font-size: 50px;
            color: #c40094;
        }

        .popup-info .info{
            display: inline-block;
            font-size: 16px;
            color: #333;
            font-weight: 500;
            margin: 4px 0;
        }

        .popup-info .btn-group{
            display: flex;
            justify-content: space-between;
            border-top: 1px solid #999;
            margin-top: 10px;
            padding: 15px 0 7px;
        }

        .popup-info .btn-group .info-btn {
            display: inline-flex;
            justify-content: center;
            align-items: center;
            width: 130px;
            height: 45px;
            background: #c40094;
            border: 2px solid #c40094;
            outline: none;
            border-radius: 6px;
            text-decoration: none;
            font-size: 16px;
            color: #fff;
            font-weight: 600;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
            cursor: pointer;
            transition: 0.5s;
        } 

    .popup-info .btn-group .info-btn:nth-child(1) {
        background: transparent;
        color: #c40094;
    }

    .popup-info .btn-group .info-btn:nth-child(1):hover {
        background: #c40094;
        color: #fff;
    }

    .popup-info .btn-group .info-btn:nth-child(2):hover{
        background: #c40094;
        border-color: #c40094;
    }

    .quiz-section{
        position: relative;
        left: -50%;
        /* left: 0; */
        width: 100%;
        background: #09001d;
        display: flex;
        justify-content: center;
        align-items: center;
        transition-delay: 0.25s;
        z-index: 100;
        transition: .8s ease-in-out;
    } 

    .quiz-section.active{
       left: 0;
    }

    .quiz-section .quiz-box{
        position: relative;
        width: 500px;
        background: transparent;
        border: 2px solid #c40094;
        border-radius: 6px;
        flex-direction: column;
        padding: 20px 30px;
        opacity: 0;
        pointer-events: none;
        transform: scale(0.9);
        transition: .3s ease;
        transition-delay: 0s;
    }

    .quiz-section .quiz-box.active{
        opacity: 1;
        pointer-events: auto;
        transform: scale(1);
        transition: 1s ease;
        transition-delay: 1s;
    }
    .quiz-box h1{
        font-size: 32px;
        text-align: center;
        background: linear-gradient(45deg, transparent, #c40094, transparent);
        border-radius: 6px;
        font-family: 'Times New Roman', Times, serif;
    }

    .quiz-box .quiz-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 20px 0;
        border-bottom: 2px solid #c40094;
        margin-bottom: 30px; 
    }

    .quiz-header .header-score {
        background: #c40094;
        border-radius: 3px;
        padding: 7px;
    }

    .quiz-box .question-text {
         font-size: 24px;
         font-weight: 600;
    }

    .option-list .option {
        width: 100%;
        padding: 12px;
        background: transparent;
        border: 2px solid rgba(255,255,255,0.2);
        border-radius: 4px;
        font-size: 17px;
        margin: 15px 0;
        cursor: pointer;
        transition: 0.3s;
    } 
    

    .option-list .option:hover{
        background : rgba(255,255,255,0.1);
        border-radius: rgba(255,255,255,0.1);
    }

    .option-list .option.correct{
        background: #09001d;
        color: #00a63d;
        border-color: #00a63d;
    }

    .option-list .option.incorrect{
        background: #09001d;
        color: #a60045;
        border-color: #a60045;
    }

    .option-list .option.disabled {
        pointer-events: none;
    } 

    .quiz-box .quiz-footer{
        display: flex;
        justify-content: space-between;
        align-items: center;
        border-top: 2px solid #c40094;
        padding-top: 20px;
        margin-top: 25px;


    }

    .quiz-footer .question-total{
        font-size: 16px;
        font-weight: 600;
    }

    .quiz-footer .next-btn{
        width: 100px;
        height: 45px;
        background: rgba(255,255,255,0.1);
        border: 2px solid rgba(255,255,255,0.1);
        outline: none;
        border-radius: 6px;
        font-size: 16px;
        color: rgba(255,255,255,0.3);
        font-weight: 600;
        cursor: pointer;
        /* pointer-events: none; */
        transition: 0.5s;
    }

    .quiz-footer .next-btn:hover{
        background:  #c40094;
        border-color: #c40094;
    }

    .quiz-section .result-box {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%) scale(.9);
        width: 500px;
        background: transparent;
        border: 2px solid #c40094;
        border-radius: 6px;
        padding: 20px;
        display: flex;
        flex-direction: column;
        align-items: center;
        opacity: 0;
        pointer-events: none;
        transition: .3s ease;
    }

    .quiz-section .result-box.active{
        opacity: 1;
        pointer-events: auto;
        transform: translate(-50%, -50%) scale(.9);
    }

    .result-box h2{
        font-size: 52px;
    }

    .result-box .percentage-container {
        width: 300px;
        display: flex;
        flex-direction: column;
        align-items: center;
        margin: 20px 0 40px;
    }

    .percentage-container .circular-progress{
        position: relative;
        width: 250px;
        height: 250px;
        background: conic-gradient(#c40094 3.6deg , rgba(255, 255 , 255, .1) 0deg);
        border-radius: 50%;
        display: flex;
        justify-content: center;
        align-items: center;
    }

    .percentage-container .circular-progress::before{
        content: '';
        position: absolute;
        width: 210px;
        height: 210px;
        background: #09001d;
        border-radius: 50%;
    }

    .circular-progress .progress-value{
        position: relative;
        font-size: 45px;
        font-weight: 600;
    }

    .percentage-container .score-text {
        font-size: 26px;
        font-weight: 600;
        margin-top: 20px;
    }

    .result-box .buttons {
        display: flex;
    }

    .buttons button {
        width: 130px;
        height: 47px;
        background: #c40094;
        outline: none;
        border-radius: 6px;
        font-size: 10px;
        color: #fff;
        font-weight: 600;
        margin: 0 20px 20px;
        cursor: pointer;
        transition: 0.5s;
    } 
    .buttons button:nth-child(2) {
        background: transparent;
        color: #c40094;
    }

    .buttons button:nth-child(2):hover{
        background: #c40094;
        color: #fff;
    }
    .buttons button:nth-child(1):hover{
        background: #950170;
        border-color: #950170;
    }

    .quiz-footer .prev-btn {
    width: 100px;
    height: 45px;
    background: rgba(255,255,255,0.1);
    border: 2px solid rgba(255,255,255,0.1);
    outline: none;
    border-radius: 6px;
    font-size: 16px;
    color: rgba(255,255,255,0.3);
    font-weight: 600;
    cursor: pointer;
    transition: 0.5s;
}

.quiz-footer .prev-btn:hover {
    background: #c40094;
    border-color: #c40094;
} 

/* Add styles for timer */
.header-timer {
    background: #c40094; /* Background color for the timer */
    border-radius: 3px; /* Rounded corners */
    padding: 7px; /* Padding for spacing */
    color: #fff; /* Text color */
    font-weight: 600; /* Bold text */
    font-size: 16px; /* Font size */
    margin-left: 20px; /* Space between score and timer */
    box-shadow: 0 0 5px rgba(0, 0, 0, 0.3); /* Shadow effect */
} 

    </style>
</head>
<body>
    <main class="main">
        <header class="header">
            <img src= "quiz_logo.jpg" class="logo">
            <a href="#" class="name">Quiz Quest</a>
        </header>

        <div class="container"> 
            <section class="quiz-section">
                <div class="quiz-box">
                    <h1>Quiz Quest</h1>
                    <div class="quiz-header">
                        <span class="header-score">Score: 0 / 5</span>
                        <span class="header-timer" id="timer">30</span> <!-- Add timer here -->
                    </div>

                    <h2 class="question-text">Which instrument is commonly used to tune a guitar?</h2>

                    <div class="option-list">
                        <!-- <div class="option">
                            <span>A. Hyper Type Multi Language</span>
                        </div>

                        <div class="option-list">
                        <div class="option">
                            <span>B. Hyper Text Multiple Language</span>
                        </div>

                        <div class="option-list">
                        <div class="option">
                            <span>C. Hyper Text Markup Language</span>
                        </div>

                        <div class="option-list">
                        <div class="option">
                            <span>D. Home Text Multi Language</span>
                        </div> -->
                    </div>

                    <div class="quiz-footer">
                        <span class="question-total">1 of 5 Questons</span>
                        <button class="prev-btn">Previous</button> <!-- New Previous Button -->
                        <button class="next-btn">Next</button>
                    </div>
                </div>
                <div class="result-box">
                    <h2>Quiz Result! </h2>
                    <div class="percentage-container">
                        <div class="circular-progress">
                            <span class="progress-value">0%</span>
                        </div>

                        <span class="score-text">Your Score 0 out of 5</span>
                    </div>  

                    <div class="buttons">
                        <button class="tryAgain-btn">Try Again</button>
                        <button class="goHome-btn">Go to Home</button>
                    </div>

                </div>
            </section>
        <section class="home">
            <div class="home-content">
                <h1>Quiz Website</h1>
                <p> 
                    Our application is designed to offer an interactive learning experience, where users can test their knowledge,
                    challenge friends, and discover new topics. Whether you're looking to brush up on general knowledge,
                    dive into specialized subjects, or simply enjoy some friendly competition, Quiz Quest has something for everyone.</p>
                    <button class="start-btn">Start Quiz</button>
            </div>
        </section>
    </div>
    </main>

    <div class="popup-info">
        <h2>Quiz Guide</h2>
        <span class="info">1. Multiple-Choice Questions (MCQ): Each question will present a list of 3-5 possible answers, of which only one is correct.</span>
        <span class="info">2. True/False: Some questions may require a simple "True" or "False" answer</span>
        <span class="info">3. Correct Answers: Players earn points for each correct answer.</span>
        <span class="info">4. Wrong Answers: Incorrect answers may result in a loss of points or no points awarded.</span>
        <span class="info">5. A Progress bar is shown to indicate how much of the quiz has been completed.</span>
     

    <div class="btn-group">
        <button class="info-btn exit-btn">Exit Quiz</button>
        <a href="#" class="info-btn continue-btn">Continue</a>
    </div>
</div>

    <script>
        let questions = [
    {
        numb: 1,
        question: "What is an Operating System?",
        answer: "B.  Interface between user and computer hardware",
        options: [
            "A.  A collection of hardware components" ,
            "B.  Interface between user and computer hardware " ,
            "C.  A language translator" ,
            "D.  Application software" 

        ] 
    }, 
    {
        numb: 2,
        question: "Which of the following is an example of an Operating System??",
        answer: "C. Windows 10 ",
        options: [
            "A.  MS Word",
            "B.  Oracle" ,
            "C.  Windows 10" ,
            "D.  Google Chrome" 
        ] 
    },
    {
        numb: 3,
        question: "The core of an operating system is:",
        answer: "B.  Kernel",
        options: [
            "A.  Shell" ,
            "B.  Kernel" ,
            "C.  Process" ,
            "D.  User space"
        ] 
    },
    {
        numb: 4,
        question: "Which OS runs on i-phones?",
        answer: "D.  iOS",
        options: [
            "A.  Windows",
            "B.  Android",
            "C.  Ubuntu",
            "D.  iOS"
        ]
    },
    {
        numb: 5,
        question: "Which of there is a type of Operating System?",
        answer: "D.  All of the above",
        options: [
            "A.  Time-sharing OS",
            "B.  Batch OS",
            "C.  Real -time OS",
            "D.  All of the above"
        ] 
    } 
];  
const startBtn = document.querySelector('.start-btn');
const popupInfo = document.querySelector('.popup-info');
const exitBtn = document.querySelector('.exit-btn');
const main = document.querySelector('.main');
const continueBtn = document.querySelector('.continue-btn');
const quizSection = document.querySelector('.quiz-section');
const quizBox = document.querySelector('.quiz-box');
const resultBox = document.querySelector('.result-box');
const tryAgainBtn = document.querySelector('.tryAgain-btn');
const prevBtn = document.querySelector('.prev-btn'); // Get the Previous button




startBtn.onclick = () => {
    popupInfo.classList.add('active');
    main.classList.add('active');
}

exitBtn.onclick = () => {
    popupInfo.classList.remove('active');
    main.classList.remove('active');
}

continueBtn.onclick = () => {
    quizSection.classList.add('active');
    popupInfo.classList.remove('active');
    main.classList.remove('active');
    quizBox.classList.add('active');

    showQuestions(0);
    questionCounter(1);
    headerScore();
} 

let questionCount = 0;
let questionNumb = 1;
let userScore = 0;
let answeredQuestions = new Array(questions.length).fill(false);
let userAnswers = new Array(questions.length).fill(null); // Array to store user answers

const nextBtn = document.querySelector('.next-btn');

nextBtn.onclick = () => {
     questionCount++;
     showQuestions(questionCount);

     questionNumb++;
     questionCounter(questionNumb);
}  
nextBtn.onclick = () => {
        questionCount++;
        // Check if the current question is the last one
        if (questionCount < questions.length) {
            showQuestions(questionCount);
            questionNumb++;
            questionCounter(questionNumb);
        } else {
            // If it's the last question, show the result box
            showResultBox();
        }
    };
const optionList = document.querySelector('.option-list'); 

function showQuestions(index) {
    const questionText = document.querySelector('.question-text');
    questionText.textContent = `${questions[index].numb}. ${questions[index].question}`;

    let optionTag = `<div class="option"><span>${questions[index].options[0]}</span></div>
        <div class="option"><span>${questions[index].options[1]}</span></div>
        <div class="option"><span>${questions[index].options[2]}</span></div>
        <div class="option"><span>${questions[index].options[3]}</span></div>`;

    optionList.innerHTML = optionTag; 

    const option = document.querySelectorAll('.option'); 
    for (let i = 0; i < option.length; i++) {
        option[i].setAttribute('onclick','optionSelected(this)');
    }
}  

function optionSelected(answer) {
    let userAnswer = answer.textContent;
    let correctAnswer = questions[questionCount].answer;

    if (userAnswer == correctAnswer) {
        answer.classList.add('correct'); // Mark the selected answer as correct
        userScore++; // Increment score by 1 for a correct answer
    } else { 
        answer.classList.add('incorrect'); // Mark the selected answer as incorrect
        
        // Find the correct answer option and mark it as correct
        const options = optionList.children; // Get all option elements
        for (let i = 0; i < options.length; i++) {
            if (options[i].textContent === correctAnswer) {
                options[i].classList.add('correct'); // Add 'correct' class to the correct answer
                break; // Exit the loop once the correct answer is found
            }
        } 
    } 
    
    headerScore(); // Update the score display

    // Disable all options after an answer has been selected
    const options = optionList.children; // Get all option elements
    for (let i = 0; i < options.length; i++) {
        options[i].classList.add('disabled'); // Add 'disabled' class to each option
    }
} 
function headerScore() {
    const headerScoreText = document.querySelector('.header-score');
    headerScoreText.textContent = `Score: ${userScore} / ${questions.length}`; // Update the score display
} 

nextBtn.onclick = () => {
    questionCount++;
    
    // Check if the current question is the last one
    if (questionCount < questions.length) {
        showQuestions(questionCount);
        questionNumb++;
        questionCounter(questionNumb);
    } else {
        // If it's the last question, show the result box
        showResultBox();
    }
};

prevBtn.onclick = () => {
    if (questionCount > 0) { // Check if there is a previous question
        questionCount--; // Decrement question count
        showQuestions(questionCount); // Show the previous question
        questionNumb--; // Decrement question number
        questionCounter(questionNumb); // Update question counter
    }
};

prevBtn.onclick = () => {
        if (questionCount > 0) { // Check if there is a previous question
            questionCount--; // Decrement question count
            showQuestions(questionCount); // Show the previous question
            questionNumb--; // Decrement question number
            questionCounter(questionNumb); // Update question counter
        }
    };
    
function showResultBox() {
    quizBox.classList.remove('active');
    resultBox.classList.add('active'); // Show the result box
    
    const scoreText = document.querySelector('.score-text'); // Display the score text
    scoreText.textContent = `You scored ${userScore} out of ${questions.length}`; // Show the score
    
    const circularProgress = document.querySelector('.circular-progress');
    const ProgressValue = document.querySelector('.progress-value');
    let progressStartValue = 0;
    let progressEndValue = (userScore / questions.length) * 100; // Calculate the end value based on score
    let speed = 20; // Speed of the progress update 

    // Ensure progressEndValue is not greater than 100
    progressEndValue = Math.min(progressEndValue, 100);

    // Set the initial state of the circular progress
    ProgressValue.textContent = `${progressStartValue}%`; // Initialize display
    circularProgress.style.background = `conic-gradient(#c40094 0deg, rgba(255, 255, 255, .1) 0deg)`; // Initialize background  

    let progress = setInterval(() => {
        if (progressStartValue < progressEndValue) {
            progressStartValue++;
            // Update the progress value display
            ProgressValue.textContent = `${progressStartValue}%`;
            circularProgress.style.background = `conic-gradient(#c40094 ${progressStartValue * 3.6}deg, rgba(255, 255, 255, .1) 0deg)`;
        } else {
            clearInterval(progress); // Stop the interval when the progress reaches the end value
        }
    }, speed);
} 


tryAgainBtn.onclick = () => {
    questionCount = 0; // Reset question count to 0
    questionNumb = 1; // Reset question number to 1
    userScore = 0; // Reset user score to 0

    // Hide the result box and show the quiz box
    resultBox.classList.remove('active');
    quizBox.classList.add('active');

    // Reset the score display
    headerScore();

    // Show the first question
    showQuestions(questionCount);
    questionCounter(questionNumb);
}; 

// Wait for the DOM to be fully loaded
document.addEventListener('DOMContentLoaded', function() {
    const goHomeBtn = document.querySelector('.goHome-btn');

    // Add click event listener to the goHome button
    goHomeBtn.addEventListener('click', function() {
        // Redirect to quiz_type.html
        window.location.href = 'http://127.0.0.1:5500/quiz%20type.html';
    });
});



prevBtn.onclick = () => {
    if (questionCount > 0) { // Check if there is a previous question
        questionCount--; // Decrement question count
        showQuestions(questionCount); // Show the previous question
        questionNumb--; // Decrement question number
        questionCounter(questionNumb); // Update question counter
    }
};  

// timer
let timer;
let timeLimit = 30; // Time limit in seconds
const timerElement = document.getElementById('timer'); // Timer display element

function startTimer() {
    let timeRemaining = timeLimit; // Set the initial time remaining
    timerElement.textContent = timeRemaining; // Display the initial time

    timer = setInterval(() => {
        timeRemaining--; // Decrease time remaining by 1 second
        timerElement.textContent = timeRemaining; // Update timer display

        if (timeRemaining <= 0) { // Check if time is up
            clearInterval(timer); // Stop the timer
            freezeQuestion(); // Freeze the question
        }
    }, 1000); // Update every second
}

function freezeQuestion() {
    const options = optionList.children; // Get all option elements
    for (let i = 0; i < options.length; i++) {
        options[i].classList.add('disabled'); // Disable all options
    }
}

// Modify the continueBtn.onclick function to start the timer
continueBtn.onclick = () => {
    quizSection.classList.add('active');
    popupInfo.classList.remove('active');
    main.classList.remove('active');
    quizBox.classList.add('active');

    showQuestions(0);
    questionCounter(1);
    headerScore();
    startTimer(); // Start the timer when the quiz starts
};

// Modify the showQuestions function to reset the timer when a new question is displayed
function showQuestions(index) {
    const questionText = document.querySelector('.question-text');
    questionText.textContent = `${questions[index].numb}. ${questions[index].question}`;

    let optionTag = `<div class="option"><span>${questions[index].options[0]}</span></div>
        <div class="option"><span>${questions[index].options[1]}</span></div>
        <div class="option"><span>${questions[index].options[2]}</span></div>
        <div class="option"><span>${questions[index].options[3]}</span></div>`;

    optionList.innerHTML = optionTag; 

    const option = document.querySelectorAll('.option'); 
    for (let i = 0; i < option.length; i++) {
        option[i].setAttribute('onclick','optionSelected(this)');
    }

    // Reset and start the timer for the new question
    clearInterval(timer); // Clear any existing timer
    startTimer(); // Start the timer for the new question
}
    </script>
</body>
</html>  

                                                                                                    